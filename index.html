<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horus System Login</title>
    <script src="https://cdn.tailwindcss.com?ver=3.4.3"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="pictures/logohorus.jpeg" type="image/x-icon">
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-gray-800">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full mx-auto login-card rounded-2xl shadow-2xl p-6 sm:p-8 animate-fadeIn">
            <div class="flex justify-center mb-6 sm:mb-8">
                <svg class="horus-eye" viewBox="0 0 24 24">
                    <path d="M12 5c-7 0-9 4-9 7s2 7 9 7 9-4 9-7-2-7-9-7zm0 12c-3 0-5-2-5-5s2-5 5-5 5 2 5 5-2 5-5 5zm0-8c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3z"/>
                </svg>
            </div>
            <h2 class="text-2xl sm:text-3xl font-bold text-yellow-400 text-center mb-6 font-cinzel">Horus System</h2>
            <div class="space-y-6">
                <div>
                    <label for="username" class="block text-sm font-medium text-yellow-200/80">Username</label>
                    <input 
                        type="text" 
                        id="username" 
                        class="mt-1 w-full px-4 py-3 sm:py-3 bg-white/5 border border-yellow-200/20 rounded-lg text-white placeholder-yellow-200/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition duration-300" 
                        placeholder="Enter your username"
                    >
                </div>
                <div>
                    <label for="password" class="block text-sm font-medium text-yellow-200/80">Password</label>
                    <input 
                        type="password" 
                        id="password" 
                        class="mt-1 w-full px-4 py-3 sm:py-3 bg-white/5 border border-yellow-200/20 rounded-lg text-white placeholder-yellow-200/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition duration-300" 
                        placeholder="Enter your password"
                    >
                </div>
                <div id="error-message" class="text-red-500 text-sm text-center hidden">Invalid username or password</div>
                <button 
                    class="w-full bg-yellow-600 hover:bg-yellow-700 text-gray-900 font-semibold py-3 rounded-lg transition duration-300 transform hover:scale-105"
                    onclick="handleLogin()"
                >
                    Sign In
                </button>
            </div>
            <div class="mt-6 text-center">
                <a href="#" class="text-sm text-yellow-200/70 hover:text-yellow-200 transition duration-300" onclick="handleForgotPassword()">Forgot Password?</a>
            </div>
        </div>
    </div>
    <div id="loading-screen" class="fixed inset-0 bg-black/90 flex flex-col items-center justify-center z-50 hidden">
        <div class="pyramid-container relative">
            <div class="pyramid"></div>
            <div class="hieroglyph hieroglyph-1">ìÅø</div>
            <div class="hieroglyph hieroglyph-2">ìãπ</div>
            <div class="hieroglyph hieroglyph-3">ìçù</div>
        </div>
        <div class="typing-container mt-4">
            <span id="typing-text" class="text-yellow-400 font-cinzel text-lg sm:text-xl"></span>
            <span id="typing-dots" class="text-yellow-400 font-cinzel text-lg sm:text-xl"></span>
        </div>
        <canvas id="sparkles" class="absolute inset-0"></canvas>
    </div>
    <script>
        const validUsers = ['rafael', 'rogger', 'matheus'];

        // Sparkles animation for loading screen
        const canvas = document.getElementById('sparkles');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        class Sparkle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2 + 1;
                this.speedX = Math.random() * 1 - 0.5;
                this.speedY = Math.random() * 1 - 0.5;
                this.opacity = Math.random() * 0.5 + 0.3;
                this.opacitySpeed = Math.random() * 0.003 + 0.001;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.opacity -= this.opacitySpeed;

                if (this.opacity <= 0) {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.opacity = Math.random() * 0.5 + 0.3;
                    this.size = Math.random() * 2 + 1;
                }
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 217, 4, ${this.opacity})`;
                ctx.fill();
            }
        }

        const sparkles = [];
        const sparkleCount = 30;

        for (let i = 0; i < sparkleCount; i++) {
            sparkles.push(new Sparkle());
        }

        function animateSparkles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            sparkles.forEach(sparkle => {
                sparkle.update();
                sparkle.draw();
            });
            requestAnimationFrame(animateSparkles);
        }

        animateSparkles();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Typing animation
        function startTypingAnimation() {
            const typingText = document.getElementById('typing-text');
            const typingDots = document.getElementById('typing-dots');
            const text = 'Accessing Horus System';
            let index = 0;

            function type() {
                if (index < text.length) {
                    typingText.textContent += text[index];
                    index++;
                    setTimeout(type, 50);
                } else {
                    animateDots();
                }
            }

            function animateDots() {
                let dots = '';
                let dotCount = 0;
                setInterval(() => {
                    dotCount = (dotCount + 1) % 4;
                    dots = '.'.repeat(dotCount);
                    typingDots.textContent = dots;
                }, 300);
            }

            typingText.textContent = '';
            typingDots.textContent = '';
            type();
        }

        // Rain animation
        function createRain() {
            const rainContainer = document.body;
            const dropCount = Math.floor(window.innerWidth / 20);
            for (let i = 0; i < dropCount; i++) {
                const drop = document.createElement('div');
                drop.className = 'raindrop';
                drop.style.left = `${Math.random() * 100}vw`;
                drop.style.animationDuration = `${0.5 + Math.random() * 1.5}s`;
                drop.style.animationDelay = `${Math.random() * 2}s`;
                rainContainer.appendChild(drop);
            }
        }

        window.addEventListener('load', createRain);
        window.addEventListener('resize', () => {
            document.querySelectorAll('.raindrop').forEach(drop => drop.remove());
            createRain();
        });

        // Login handling
        function handleLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const errorMessage = document.getElementById('error-message');
            const loadingScreen = document.getElementById('loading-screen');
            if (validUsers.includes(username) && password === '123') {
                loadingScreen.classList.remove('hidden');
                startTypingAnimation();
                sessionStorage.setItem('username', username);
                setTimeout(() => {
                    loadingScreen.classList.add('fade-out');
                    setTimeout(() => {
                        window.location.href = 'main_page/index.html';
                    }, 500);
                }, 1000);
            } else {
                errorMessage.classList.remove('hidden');
            }
        }

        // Forgot Password handling
        function handleForgotPassword() {
            const loadingScreen = document.getElementById('loading-screen');
            loadingScreen.classList.remove('hidden');
            startTypingAnimation();
            setTimeout(() => {
                loadingScreen.classList.add('fade-out');
                setTimeout(() => {
                    window.location.href = 'password/index.html';
                }, 500);
            }, 1000);
        }
    </script>
</body>
</html>